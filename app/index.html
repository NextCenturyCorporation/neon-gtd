<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Neon</title>

        <link type="image/png" rel="shortcut icon" href="img/Neon_16x16.png">

        <link rel="stylesheet" type="text/css" href="lib/bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="lib/jquery-ui/themes/ui-lightness/jquery-ui.min.css">
        <link rel="stylesheet" type="text/css" href="lib/jquery-ui/themes/ui-lightness/jquery.ui.theme.css">
        <link rel="stylesheet" type="text/css" href="lib/openlayers/theme/default/style.css">
        <link rel="stylesheet" type="text/css" href="js/vendor/slick-grid/css/slick.grid.css">
        <link rel="stylesheet" type="text/css" href="lib/angular-gridster/css/angular-gridster.min.css">
        <link rel="stylesheet" type="text/css" href="lib/angular-gantt/css/angular-gantt.min.css">
        <link rel="stylesheet" type="text/css" href="lib/angular-gantt/css/angular-gantt-plugins.min.css">
        <link rel="stylesheet" type="text/css" href="lib/angular-ui-tree/css/angular-ui-tree.min.css">
        <link rel="stylesheet" type="text/css" href="lib/angular-bootstrap-datetimepicker/css/datetimepicker.css">

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="lib/html5shiv.js"></script>
        <script src="lib/respond.min.js"></script>
        <![endif]-->
    </head>
    <body class="ng-hide" ng-controller="neonDemoController" ng-show="displayDashboard">
        <link rel="stylesheet" type="text/css" ng-href="css/{{theme.name}}.css">

        <!-- Help Video Modal -->
        <div class="modal fade neon-popup" id="videoModal" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title">Neon Dashboard Demo Video</h4>
                    </div>
                    <div class="modal-body">
                        <video id="helpVideo" ng-src="{{help.localVideo}}" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>
        </div>

        <!-- Header -->
        <!-- This could be made into either a directive or a partial -->
        <nav role="navigation" class="navbar">
            <div class="navbar-default navbar-fixed-top" ng-class="{true: '', false: 'affix'}[hideNavbarItems == true]">
                <div class="pull-left" ng-show="hideNavbarItems">
                    <span class="navbar-text navbar-title-text" ng-bind="navbarTitle"></span>
                </div>

                <div class="container" ng-hide="hideNavbarItems">
                    <!-- Help Button -->
                    <div class="dropdown pull-right" ng-show="(help.guide || help.webVideo || help.localVideo)">
                        <a class="dropdown-toggle navbar-text" data-toggle="dropdown" href="#" role="button">
                            <img class="brand-image" src="img/Help_64x64.png" height="34"></img>Help<span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li ng-show="(help.guide)"><a href="{{help.guide}}" target="guide" title="User Guide (Opens in a New Tab)">
                                User Guide
                            </a></li>
                            <li ng-show="(help.webVideo)"><a href="{{help.webVideo}}" target="video" title="Demo Video (Opens in a New Tab)">
                                Demo Video
                            </a></li>
                            <li ng-show="(help.localVideo)"><a href="#" data-toggle="modal" data-target="#videoModal" title="Demo Video (Opens in a Popup)">
                                Demo Video
                            </a></li>
                        </ul>
                    </div>

                    <!-- Options Button -->
                    <div class="collapsed pull-right" ng-show="!(hideAdvancedOptions) && (showImport || showExport)">
                        <a class="collapse-toggle navbar-text options" data-toggle="collapse" data-target="#options-dropdown" role="button">
                            <i class="glyphicon glyphicon-cog options-gear"></i>
                        </a>
                        <div id="options-dropdown" class="popover bottom options-dropdown pull-right">
                            <div class="arrow"></div>
                            <div class="popover-content">
                                <div class="container options-container">
                                    <div ng-show="showExport">
                                        <div class="row">
                                            <div class="col-lg-12 format">Export Format:</div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-12 export-options text-center">
                                                <div file-formats gridster-configs="visualizations" ng-show="showExport"></div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-12 export-button text-center">
                                                <div export-widgets gridster-configs="visualizations" ng-show="showExport"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="divider" ng-show="showExport && showImport"></div>
                                    <div ng-show="showImport">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <a href="#" data-toggle="modal" data-target="#importModal" ng-show="canImport">
                                                    Import File
                                                </a>
                                                <a href="#" class="unselectable" ng-show="!canImport">
                                                    This browser does not support data import
                                                </a>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <a href="#" data-toggle="modal" data-target="#removeDatasetModal" ng-show="canImport">
                                                    Drop Dataset
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="divider" ng-show="showExport || showImport"></div>
                                    <div class="row">
                                        <div class="col-lg-12 theme-label">Theme:</div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <select class="form-control" ng-options="item as item for item in theme.themes" ng-model="theme.selected" ng-change="updateTheme()"></select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div powered-by-neon class="pull-right"></div>


                    <!-- Import and Remove Dataset Popups -->
                    <div import-file gridster-configs="visualizations" ng-show="showImport"></div>
                    <div remove-dataset gridster-configs="visualizations" ng-show="showImport"></div>

                    <div class="clearfix visible-xs"></div>

                    <!-- Database Config -->
                    <database-config gridster-configs="visualizations" hide-advanced-options="hideAdvancedOptions" ng-show="!hideNavbarItems"></database-config>

                    <!-- Add visualization control -->
                    <div add-visualization gridster-configs="visualizations" ng-show="!hideNavbarItems && !hideAddVisualizationsButton"></div>

                    <!-- FILTER STATUS TRAY -->
                    <div filter-tray bound-parent="'nav.navbar'" include-parent-height="!hideNavbarItems" ng-show="showFilterStatusTray" class="pull-right"></div>
                </div>
            </div>
        </nav>

        <!-- DASHBOARD CONTENT -->
        <div class="container">

            <!-- Use gridster to manage visualization layouts. -->
            <div gridster="gridsterOpts" id="gridster-div">
                <ul>
                    <li gridster-item="visualization" ng-repeat="visualization in visualizations track by visualization.id">
                        <div class="visualization-well" visualization-widget
                            gridster-configs="visualizations"
                            gridster-config-index="$index"
                            ng-class="(isInMobileMode())? 'visualization-widget-mobile' : 'visualization-widget'"></div>
                    </li>
                </ul>
            </div>

            <div id="tooltip-container"></div>

        </div>

        <links-popup></links-popup>

        <!-- Include the xdata logging package. -->
        <script src="lib/user-ale/js/userale.js"></script>
        <script src="lib/user-ale/js/userale-worker.js"></script>

        <!-- Including neon before angular here as neon has lodash and jquery wrapped into it.  If this is
             loaded first, angular should pick up the included jQuery. -->
        <script src="/neon/js/neon.js"></script>

        <script src="lib/jquery/js/jquery.min.js"></script>

        <!-- Include the opencpu library. OpenCPU needs to be included after JQuery and before the app config. -->
        <script src="lib/opencpu/js/opencpu-0.5.js"></script>

        <!-- In production use:
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/x.x.x/angular.min.js"></script>
        -->
        <!--
        <script src="js/vendor/angular.js"></script>
        -->
        <script src="lib/angular/js/angular.min.js"></script>
        <script src="lib/angular-gridster/js/angular-gridster.min.js"></script>
        <script src="lib/moment/js/moment.min.js"></script>
        <script src="lib/angular-moment/js/angular-moment.min.js"></script>
        <script src="lib/angular-gantt/js/angular-gantt.min.js"></script>
        <script src="lib/angular-gantt/js/angular-gantt-plugins.min.js"></script>
        <script src="lib/angular-route/js/angular-route.min.js"></script>
        <script src="lib/angular-ui-tree/js/angular-ui-tree.min.js"></script>
        <script src="lib/angular-bootstrap-datetimepicker/js/datetimepicker.js"></script>
        <script src="lib/javascript-detect-element-resize/js/jquery.resize.js"></script>

        <!-- Include third party libs -->
        <script src="lib/d3/js/d3.min.js"></script>

        <script src="lib/openlayers/OpenLayers.js"></script>
        <script src="lib/heatmapjs/js/heatmap.min.js"></script>
        <script src="js/vendor/openlayers-heatmapjs/heatmap-openlayers.js"></script>
        <script src="lib/jquery.tagcloud/js/jquery.tagcloud.js"></script>
        <script src="lib/threedubmedia.jquery.event/js/jquery.event.drag.js"></script>
        <script src="lib/threedubmedia.jquery.event/js/jquery.event.drop.js"></script>
        <script src="lib/jquery.linky/js/jquery.linky.min.js"></script>
        <!-- <script src="lib/jquery/jquery-ui-1.8.16.custom.min.js"></script> -->
        <script src="lib/jquery-ui/js/jquery-ui.min.js"></script>
        <script src="js/vendor/slick-grid/js/slick.core.js"></script>
        <script src="js/vendor/slick-grid/js/slick.grid.js"></script>
        <script src="js/vendor/slick-grid/js/slick.dataview.js"></script>
        <script src="js/vendor/slick-grid/js/slick.autotooltips.js"></script>
        <script src="js/vendor/slick-grid/js/slick.rowselectionmodel.js"></script>
        <script src="lib/mergesort/js/merge-sort.js"></script>
        <script src="lib/bootstrap/js/bootstrap.min.js"></script>
        <script src="lib/js-yaml/js/js-yaml.min.js"></script>
        <script src="lib/mustache/js/mustache.min.js"></script>
        <script src="lib/ngDraggable/js/ngDraggable.js"></script>
        <script src="lib/remarkable-bootstrap-notify/js/bootstrap-notify.min.js"></script>
        <script src="lib/rainbowvis.js/js/rainbowvis.js"></script>

        <!-- Include required non-angular support modules -->
        <script src="js/neon-extensions/filtertable.js"></script>
        <script src="js/namespaces.js"></script>
        <script src="js/charts/barchart.js"></script>
        <script src="js/charts/directedGraph.js"></script>
        <script src="js/charts/linechart.js"></script>
        <script src="js/charts/timelineSelectorChart.js"></script>
        <script src="js/coremap/coremap.js"></script>
        <script src="js/coremap/heatmapLayer.js"></script>
        <script src="js/coremap/pointsLayer.js"></script>
        <script src="js/coremap/selectedPointsLayer.js"></script>
        <script src="js/coremap/nodeLayer.js"></script>
        <script src="js/tables/table.js"></script>
        <script src="js/charts/sunburst.js"></script>
        <script src="js/mediators/directedGraphMediator.js"></script>

        <!-- Include our custom Angular components here for now. -->
        <script src="js/app.js"></script>
        <script src="js/connectionService.js"></script>
        <script src="js/datasetService.js"></script>
        <script src="js/errorNotificationService.js"></script>
        <script src="js/filterService.js"></script>
        <script src="js/exportService.js"></script>
        <script src="js/importService.js"></script>
        <script src="js/linksPopupService.js"></script>
        <script src="js/parameterService.js"></script>
        <script src="js/translationService.js"></script>
        <script src="js/neonDemoController.js"></script>

        <script src="js/charts/circularHeatChart.js"></script>

        <script src="js/directives/addVisualization.js"></script>
        <script src="js/directives/barchart.js"></script>
        <script src="js/directives/circularHeatChart.js"></script>
        <script src="js/directives/circularHeatForm.js"></script>
        <script src="js/directives/countBy.js"></script>
        <script src="js/directives/databaseConfig.js"></script>
        <script src="js/directives/directedGraph.js"></script>
        <script src="js/directives/exportWidgets.js"></script>
        <script src="js/directives/fileFormats.js"></script>
        <script src="js/directives/filterBuilder.js"></script>
        <script src="js/directives/filterState.js"></script>
        <script src="js/directives/filterTray.js"></script>
        <script src="js/directives/gantt-chart.js"></script>
        <script src="js/directives/importFile.js"></script>
        <script src="js/directives/linechart.js"></script>
        <script src="js/directives/linksPopup.js"></script>
        <script src="js/directives/linksPopupButton.js"></script>
        <script src="js/directives/map.js"></script>
        <script src="js/directives/newsfeed.js"></script>
        <script src="js/directives/optionsMenu.js"></script>
        <script src="js/directives/poweredByNeon.js"></script>
        <script src="js/directives/queryResultsTable.js"></script>
        <script src="js/directives/removeDataset.js"></script>
        <script src="js/directives/sample.js"></script>
        <script src="js/directives/stackedBarchart.js"></script>
        <script src="js/directives/tagCloud.js"></script>
        <script src="js/time/dateBucketizer.js"></script>
        <script src="js/time/monthBucketizer.js"></script>
        <script src="js/time/yearBucketizer.js"></script>
        <script src="js/directives/timelineSelectorChart.js"></script>
        <script src="js/directives/timelineSelector.js"></script>
        <script src="js/directives/visualizationWidget.js"></script>
        <script src="js/directives/sunburst.js"></script>
        <script src="js/directives/arrayTextForm.js"></script>
        <script src="js/directives/translationOptions.js"></script>
    </body>
</html>
